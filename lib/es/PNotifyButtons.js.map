{"version":3,"file":"PNotifyButtons.js","sources":["src/PNotifyButtons.html"],"sourcesContent":["{{#if _show_closer}}\n  <div\n      class=\"ui-pnotify-closer {{(!closer_hover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}}\"\n      role=\"button\"\n      tabindex=\"0\"\n      title=\"{{labels.close}}\"\n      on:click=\"handleCloserClick()\">\n    <span class=\"{{_closer_class}}\"></span>\n  </div>\n{{/if}}\n{{#if _show_sticker}}\n  <div\n      class=\"ui-pnotify-sticker {{(!sticker_hover || _mouseIsIn) ? '' : 'ui-pnotify-buttons-hidden'}}\"\n      role=\"button\"\n      aria-pressed=\"{{_options.hide}}\"\n      tabindex=\"0\"\n      title=\"{{_options.hide ? labels.stick : labels.unstick}}\"\n      on:click=\"handleStickerClick()\">\n    <span class=\"{{_options.hide ? _pin_up_class : _pin_down_class}}\"></span>\n  </div>\n{{/if}}\n\n<script>\n  import PNotify from \"./PNotify.html\";\n\n  export default {\n    setup (Component) {\n      Component.key = \"Buttons\";\n\n      Component.defaults = {\n        // Provide a button for the user to manually close the notice.\n        closer: true,\n        // Only show the closer button on hover.\n        closer_hover: true,\n        // Provide a button for the user to manually stick the notice.\n        sticker: true,\n        // Only show the sticker button on hover.\n        sticker_hover: true,\n        // Show the buttons even when the nonblock module is in use.\n        show_on_nonblock: false,\n        // The various displayed text, helps facilitating internationalization.\n        labels: {\n          close: \"Close\",\n          stick: \"Stick\",\n          unstick: \"Unstick\"\n        },\n        // The classes to use for button icons. Leave them null to use the classes from the styling you're using.\n        classes: {\n          closer: null,\n          pin_up: null,\n          pin_down: null\n        }\n      };\n\n      // Register the module with PNotify.\n      PNotify.modules.Buttons = Component;\n      // Prepend this module to the container.\n      PNotify.modulesPrependContainer.push(Component);\n\n      // Add button icons to icons objects.\n      Object.assign(PNotify.icons.brighttheme, {\n        closer: \"brighttheme-icon-closer\",\n        pin_up: \"brighttheme-icon-sticker\",\n        pin_down: \"brighttheme-icon-sticker brighttheme-icon-stuck\"\n      });\n      Object.assign(PNotify.icons.bootstrap3, {\n        closer: \"glyphicon glyphicon-remove\",\n        pin_up: \"glyphicon glyphicon-pause\",\n        pin_down: \"glyphicon glyphicon-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome4, {\n        closer: \"fa fa-times\",\n        pin_up: \"fa fa-pause\",\n        pin_down: \"fa fa-play\"\n      });\n      Object.assign(PNotify.icons.fontawesome5, {\n        closer: \"fas fa-times\",\n        pin_up: \"fas fa-pause\",\n        pin_down: \"fas fa-play\"\n      });\n    },\n\n    oncreate () {\n      this.fire(\"init\", {module: this});\n    },\n\n    data () {\n      return Object.assign({\n        \"_notice\": null, // The PNotify notice.\n        \"_options\": {}, // The options for the notice.\n        \"_mouseIsIn\": false,\n      }, PNotify.modules.Buttons.defaults);\n    },\n\n    computed: {\n      // Whether to show the sticker icon.\n      _show_sticker: (sticker, show_on_nonblock, _options) => sticker && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || show_on_nonblock),\n      // Whether to show the closer icon.\n      _show_closer: (closer, show_on_nonblock, _options) => closer && (!(_options.modules && _options.modules.NonBlock && _options.modules.NonBlock.nonblock) || show_on_nonblock),\n      // These are button icon classes.\n      _pin_up_class: (classes, _notice) => _notice ? (classes.pin_up === null ? _notice.get(\"_icons\").pin_up : classes.pin_up) : '',\n      _pin_down_class: (classes, _notice) => _notice ? (classes.pin_down === null ? _notice.get(\"_icons\").pin_down : classes.pin_down) : '',\n      _closer_class: (classes, _notice) => _notice ? (classes.closer === null ? _notice.get(\"_icons\").closer : classes.closer) : '',\n    },\n\n    methods: {\n      initModule(options) {\n        this.set(options);\n        this.get(\"_notice\").on(\"mouseenter\", () => this.set({\"_mouseIsIn\": true}));\n        this.get(\"_notice\").on(\"mouseleave\", () => this.set({\"_mouseIsIn\": false}));\n        this.get(\"_notice\").observe(\"hide\", (hide) => {\n          const sticker = this.get(\"sticker\");\n\n          if (!sticker) {\n            return;\n          }\n\n          // Font Awesome 5 replaces our lovely element with a gross SVG. In order\n          // to make it play nice with Svelte, we have to clear the element and\n          // make it again.\n          const icon = hide ? this.get(\"classes\").pin_up : this.get(\"classes\").pin_down;\n          if (\n              (this.get(\"_notice\").get(\"icons\") === \"fontawesome5\")\n              || (typeof icon === \"string\" && icon.match(/(^| )fa[srlb]($| )/))\n            ) {\n            this.set({\"sticker\": false});\n            this.set({\"sticker\": true});\n          }\n        });\n      },\n\n      handleStickerClick() {\n        const _notice = this.get(\"_notice\");\n        _notice.update({hide: !_notice.get(\"hide\")});\n      },\n\n      handleCloserClick() {\n        this.get(\"_notice\").close(false);\n        this.set({\"_mouseIsIn\": false});\n      }\n    }\n  }\n</script>\n\n<style>\n  .ui-pnotify-closer,\n  .ui-pnotify-sticker {\n    float: right;\n    margin-left: .5em;\n    cursor: pointer;\n  }\n  :global([dir=rtl]) .ui-pnotify-closer,\n  :global([dir=rtl]) .ui-pnotify-sticker {\n    float: left;\n    margin-right: .5em;\n    margin-left: 0;\n  }\n  .ui-pnotify-buttons-hidden {\n    visibility: hidden;\n  }\n</style>\n"],"names":[],"mappings":"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"}